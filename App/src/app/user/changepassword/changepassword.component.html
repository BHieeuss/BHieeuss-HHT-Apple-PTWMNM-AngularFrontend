<div class="container d-flex align-items-center justify-content-center vh-50">
    <div class="row w-100 shadow-lg rounded overflow-hidden" style="max-width: 600px;">
        <div class="col-md-12 p-5 bg-white">
            <h2 class="text-center mb-4 fw-bold" style="color: black;">Quên mật khẩu</h2>

            <!-- Form gửi OTP -->
            <form *ngIf="!otpSent" (ngSubmit)="sendOtp()">
                <div class="mb-3">
                    <label for="email" class="form-label" style="color: black;">Email</label>
                    <input type="email" id="email" class="form-control form-control-lg" [(ngModel)]="email" name="email"
                        required />
                </div>

                <button type="submit" class="btn btn-primary btn-lg w-100">Gửi OTP</button>
            </form>

            <!-- Form nhập OTP và thay đổi mật khẩu -->
            <form *ngIf="otpSent" (ngSubmit)="changePassword()">
                <div class="mb-3">
                    <label for="otp" class="form-label">Mã OTP</label>
                    <div class="d-flex">
                        <input type="text" id="otp" class="form-control form-control-lg" [(ngModel)]="otp" name="otp"
                            required />

                        <!-- Thời gian đếm ngược và Nút gửi lại OTP -->
                        <div class="ms-3 d-flex flex-column align-items-center justify-content-center">
                            <div *ngIf="!resendAvailable">
                                <div class="circle-timer d-flex align-items-center justify-content-center">
                                    {{ countdown }}
                                </div>
                            </div>
                            <button *ngIf="resendAvailable" class="btn btn-warning btn-sm" (click)="resendOtp()">Gửi lại
                                mã OTP</button>
                        </div>

                    </div>
                </div>

                <div class="mb-3">
                    <label for="password" class="form-label">Mật khẩu mới</label>
                    <input type="password" id="password" class="form-control form-control-lg" [(ngModel)]="newPassword"
                        name="password" required />
                </div>

                <div class="mb-3">
                    <label for="confirmPassword" class="form-label">Xác nhận mật khẩu</label>
                    <input type="password" id="confirmPassword" class="form-control form-control-lg"
                        [(ngModel)]="confirmPassword" name="confirmPassword" required />
                </div>

                <button type="submit" class="btn btn-primary btn-lg w-100">Đổi mật khẩu</button>
            </form>

            <!-- Thông báo lỗi -->
            <div *ngIf="errorMessage" class="mt-3 alert alert-danger">
                {{ errorMessage }}
            </div>

            <!-- Thông báo thành công -->
            <div *ngIf="successMessage" class="mt-3 alert alert-success">
                {{ successMessage }}
            </div>
        </div>
    </div>
</div>
<br>